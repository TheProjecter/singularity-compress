%% This file was generated by tiny_c2l (version 1.4.0, 25-feb-2000)

\ifx\getformat\undefined
 \newcount\getformat\getformat0
\else
 \mfilestrue\getformat3
\fi
\ifx\documentclass\undefined\advance\getformat1\fi

\ifcase\getformat
 \documentclass[10pt]{article}
 \usepackage{a4,position,fancyhdr}
 \usepackage[latin1]{inputenc}
 \textwidth18cm\textheight25cm\hoffset-3cm\voffset-1cm
\or
 \documentstyle[a4,position,fancyhdr]{article}
 \textwidth18cm\textheight25cm\hoffset-3cm\voffset-1cm
\else\fi % multiple file input: don't load format
\pagestyle{fancy}
\plcntmargin{777}
\lhead{\headfont }
\chead{\headfont Produced from packer/lz{\ul}coder.c on 16{\mm}Jan{\mm}2007 23:03}
\rhead{\headfont }
\lfoot{\footfont }
\cfoot{\footfont Page \thepage}
\rfoot{\footfont }
\plinenowidth0pt
\gdef\cmt#1#2{\psinit{#1}{\hphantom{/}$\ast$\mblank{#2}}\commentfont}
\gdef\cmtpp#1#2{\psinit{#1}{//\mblank{#2}}\commentfont}
\gdef\ccmtend{\setbox\pstartbox=\hbox{\hphantom{/}}}
\ifmfiles\else\begin{document}\fi\begin{flushleft}

\init0{}\njo0{}\cmtinit\njo0{/$\ast$}\n
\initc{0}{5}{1}{}\cmt{0}{1}\njo0{Singularity{\mm}compress:}\njo{25}{LZ77}\njo{30}{encoder}\n
\initc{0}{5}{1}{}\njo0{Copyright}\njo{13}{(C)}\njo{17}{2006{\mm}2007}\jmpo{28}{Torok}\njo{34}{%
  Edwin}\njo{40}{(edwintorok@gmail.com)}\n
\initc{0}{5}{0}{}\n
\initc{0}{5}{1}{}\njo0{This}\njo{8}{program}\njo{16}{is}\njo{19}{free}\njo{24}{%
  software;}\njo{34}{you}\njo{38}{can}\njo{42}{redistribute}\njo{55}{it}\njo{58}{and/or}\n
\initc{0}{5}{1}{}\njo0{modify}\njo{10}{it}\njo{13}{under}\njo{19}{the}\njo{23}{%
  terms}\njo{29}{of}\njo{32}{the}\njo{36}{GNU}\njo{40}{General}\njo{48}{Public}\njo{55}{License}\n
\initc{0}{5}{1}{}\njo0{as}\njo{6}{published}\njo{16}{by}\njo{19}{the}\njo{23}{%
  Free}\njo{28}{Software}\njo{37}{Foundation;}\njo{49}{version}\njo{57}{2}\n
\initc{0}{5}{1}{}\njo0{of}\njo{6}{the}\njo{10}{License.}\n
\initc{0}{0}{0}{}\n
\initc{0}{5}{1}{}\njo0{This}\njo{8}{program}\njo{16}{is}\njo{19}{distributed}\njo{31}{%
  in}\njo{34}{the}\njo{38}{hope}\njo{43}{that}\njo{48}{it}\njo{51}{will}\njo{56}{be}\njo{59}{useful,}\n
\initc{0}{5}{1}{}%
  \njo0{but}\njo{7}{WITHOUT}\njo{15}{ANY}\njo{19}{WARRANTY;}\njo{29}{%
  without}\njo{37}{even}\njo{42}{the}\njo{46}{implied}\njo{54}{warranty}\njo{63}{of}\n
\initc{0}{5}{1}{}\njo0{MERCHANTABILITY}\njo{19}{or}\njo{22}{FITNESS}\njo{30}{FOR}\njo{34}{%
  A}\njo{36}{PARTICULAR}\njo{47}{PURPOSE.}\jmpo{57}{See}\njo{61}{the}\n
\initc{0}{5}{1}{}\njo0{GNU}\njo{7}{General}\njo{15}{Public}\njo{22}{License}\njo{30}{%
  for}\njo{34}{more}\njo{39}{details.}\n
\initc{0}{0}{0}{}\n
\initc{0}{5}{1}{}\njo0{You}\njo{7}{should}\njo{14}{have}\njo{19}{received}\njo{28}{%
  a}\njo{30}{copy}\njo{35}{of}\njo{38}{the}\njo{42}{GNU}\njo{46}{General}\njo{54}{Public}\njo{61}{%
  License}\n
\initc{0}{5}{1}{}\njo0{along}\njo{9}{with}\njo{14}{this}\njo{19}{program;}\njo{28}{%
  if}\njo{31}{not,}\njo{36}{write}\njo{42}{to}\njo{45}{the}\njo{49}{Free}\njo{54}{Software}\n
\initc{0}{5}{1}{}%
  \njo0{Foundation,}\njo{15}{Inc.,}\njo{21}{51}\njo{24}{Franklin}\njo{33}{%
  Street,}\njo{41}{Fifth}\njo{47}{Floor,}\njo{54}{Boston,}\njo{62}{MA}\jmpo{66}{02110{\mm}1301,}\njo{78}{USA.}\n
\initc{0}{5}{0}{}\ccmtend\basefont\njo0{/}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{$<$stdint.h$>$}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{$<$stdio.h$>$}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{$<$stdlib.h$>$}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{$<$string.h$>$}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont ifndef}%
  }\njo{8}{WIN32}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{$<$netinet}\njo0{/in.h$>$}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont else}%
  }\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{ntohl(x)}\njo{17}{bswap{\ul}32(x)}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont endif}%
  }\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{$<$stdarg.h$>$}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont include}%
  }\njo{9}{\qql}\stringfont\pes{\bs{1}}{0}\njo0{lz{\ul}coder.h\basefont \qqr}\basefont\pes{ \bs{1}}{3}\njo0{%
  }\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~ntohl}\cmt{0}{1}\njo{9}{uses}\njo{14}{%
  bswap{\ul}32,}\njo{24}{as}\njo{27}{appropriate}\njo{39}{for}\njo{43}{current}\njo{51}{endianness,}\n
\initc{0}{5}{1}{}\njo0{also}\njo{8}{bswap{\ul}32}\njo{17}{on}\njo{20}{libc/gcc}\njo{29}{%
  uses}\njo{34}{asm}\njo{38}{instructions}\njo{51}{to}\njo{54}{swap}\njo{59}{bytes}\njo{65}{with}\njo{70}{1}\njo{72}{%
  instruction}\njo{84}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{CHAR4{\ul}TO{\ul}UINT32(data,}\njo{30}{i)}\njo{33}{ntohl((}\njo0{$\ast$%
  ({\keywordfont const}}\njo{48}{uint32{\ul}t}\njo0{$\ast$)(\&data%
  {[}i{]})))}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~Use}\cmt{0}{1}\njo{7}{JLAP{\ul}INVALID}\njo{20}{%
  to}\njo{23}{mark}\njo{28}{pointers}\njo{37}{to}\njo{40}{{\tt "}not}\njo{45}{JudyL}\njo{51}{arrays{\tt "},}\njo{60}{%
  in}\njo{63}{this}\njo{68}{case}\njo{73}{pointers}\njo{82}{to}\njo{85}{Judy1}\njo{91}{array}\n
\initc{0}{5}{1}{}\njo0{JLAP{\ul}INVALID}\njo{16}{is}\njo{19}{defined}\njo{27}{in}\njo{30}{%
  Judy.h,}\njo{38}{and}\njo{42}{is}\njo{45}{currently}\njo{55}{0x1.}\njo{60}{Since}\njo{66}{malloc}\njo{73}{%
  returns}\njo{81}{a}\njo{83}{pointer}\njo{91}{at}\njo{94}{least}\njo{100}{4{\mm}byte}\n
\initc{0}{5}{1}{}\njo0{aligned,}\njo{12}{marking}\njo{20}{it}\njo{23}{with}\njo{28}{%
  0x1,}\njo{33}{allows}\njo{40}{us}\njo{43}{to}\njo{46}{differentiate}\njo{60}{Judy1,}\njo{67}{and}\njo{71}{%
  JudyL}\njo{77}{pointers}\njo{86}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{J1P{\ul}PUT(}\njo{17}{PJ1Array}\njo{26}{)}\jmpo{29}{(}\njo{31}{%
  (Pvoid{\ul}t)}\njo{41}{(}\njo{43}{(Word{\ul}t)(PJ1Array)}\njo{62}{$\mid$}\njo{64}{%
  JLAP{\ul}INVALID)}\njo{78}{)}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{J1P{\ul}GET(}\njo{17}{PJ1Array}\njo{26}{)}\jmpo{29}{(}\njo{31}{%
  (Pvoid{\ul}t)}\njo{41}{(}\njo{43}{(Word{\ul}t)(PJ1Array)}\njo{62}{\&}\njo{64}{%
  $\sim$JLAP{\ul}INVALID)}\njo{79}{)}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{IS{\ul}J1P(}\jmpo{17}{PJ1Array}\njo{26}{)}\jmpo{29}{(}\njo{31}{%
  (Word{\ul}t)(PJ1Array)}\njo{50}{\&}\njo{52}{JLAP{\ul}INVALID}\njo{65}{%
  )}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~offset}\cmt{0}{1}\njo{10}{{\mm}$>$}\njo{13}{%
  WRAP(offset+buffer{\ul}len{\ul}half)}\njo{42}{:}\njo{44}{new}\njo{48}{buffer}\n
\initc{0}{5}{1}{}\njo0{WRAP(offset+buffer{\ul}len/2{\mm}1)}\njo{31}{{\mm}$>$}\njo{34}{%
  offset{\mm}1:}\njo{44}{old}\njo{48}{buffer}\njo{55}{(search}\njo{63}{buffer)}\n
\initc{0}{5}{0}{}\ccmtend\basefont\njo0{/}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{35}{index)}\jmpo{43}{%
  ((index)}\njo{52}{\&}\njo{54}{(lz{\ul}buff}\njo0{{\mm}$>$buffer{\ul}len{\ul}mask%
  ))}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~error}\cmt{0}{1}\njo{9}{values}\njo{16}{%
  }\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{EMEM}\njo{13}{}\njo0{{\mm}2}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~debug}\cmt{0}{1}\njo{9}{logging}\njo{17}{%
  }\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\#define}\cmt{0}{0}\njo{10}{LOG{\ul}DEBUG}\njo{20}{1}\ccmtend\basefont\njo0{\mast{1}/}%
  \n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont if}}\njo{4}{%
  !{\keywordfont defined}(NDEBUG)}\njo{21}{}\njo0{\&\&}\njo{24}{%
  {\keywordfont defined}(LOG{\ul}DEBUG)}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont void}%
  }\njo{12}{log{\ul}debug({\keywordfont const}}\njo{28}{size{\ul}t}\njo{35}{%
  line,}\njo{41}{{\keywordfont const}}\njo{47}{{\keywordfont char}%
  }\njo0{$\ast$}\njo{53}{fmt,}\njo0{...)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{va{\ul}list}\njo{11}{ap;}\n\ped
\init{3}{}\njo{-3}{va{\ul}start(ap,}\njo0{fmt);}\n\ped
\init{3}{}\njo{-3}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{DEBUG~}\njo0{\%s:~}\njo0{\%ld~}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{{\ul}{\ul}FILE{\ul}{\ul},}\njo0{line);}\n\ped
\init{3}{}\njo{-3}{vfprintf(stderr,}\njo0{fmt,}\njo0{ap);}\n\ped
\init{3}{}\njo{-3}{va{\ul}end(ap);}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont else}%
  }\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{inline}\njo{14}{{\keywordfont void}%
  }\njo{19}{log{\ul}debug({\keywordfont const}}\njo{35}{size{\ul}t}\njo{42}{%
  line,}\njo{48}{{\keywordfont const}}\njo{54}{{\keywordfont char}%
  }\njo0{$\ast$}\njo{60}{fmt,}\njo0{...)}\njo{69}{}\njo0{\brl{}%
  \brr{}}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont endif}%
  }\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~}\mpout{3}{14}{$\ast$}{2pt}%
  \cmt{0}{1}\njo{16}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\njo0{{\keywordfont int}}\njo{4}{setup{\ul}lz{\ul}buffer({\keywordfont struct}%
  }\njo{27}{lz{\ul}buffer}\njo0{$\ast$}\njo{38}{lz{\ul}buffer,}\njo0{{\keywordfont const}%
  }\njo{54}{size{\ul}t}\njo{61}{buffer{\ul}len{\ul}power)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buffer}\njo0{{\mm}$>$buffer{\ul}len{\ul}power%
  }\njo{31}{}\njo0{=}\njo{33}{buffer{\ul}len{\ul}power;}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buffer}\njo0{{\mm}$>$buffer{\ul}len%
  }\jmpo{31}{}\njo0{=}\njo{33}{1}\njo{35}{\mlt{2}}\njo{38}{buffer{\ul}len{\ul}power%
  ;}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buffer}\njo0{{\mm}$>$buffer{\ul}len{\ul}mask%
  }\jmpo{31}{}\njo0{=}\njo{33}{lz{\ul}buffer}\njo0{{\mm}%
  $>$buffer{\ul}len}\njo{55}{}\njo0{{\mm}}\njo{57}{1;}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buffer}\njo0{{\mm}$>$offset}\jmpo{31}{%
  }\njo0{=}\njo{33}{0;}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buffer}\njo0{{\mm}$>$jarray}\jmpo{31}{%
  }\njo0{=}\njo{33}{(Pvoid{\ul}t)}\njo{43}{NULL;}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buffer}\njo0{{\mm}$>$buffer}\njo{21}{%
  }\njo0{=}\njo{23}{calloc(lz{\ul}buffer}\njo0{{\mm}$>$buffer{\ul}len%
  }\njo0{+4,}\njo0{1);}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(!lz{\ul}buffer}\njo0{{\mm}%
  $>$buffer)}\njo{26}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Out~}\njo0{of~}\njo0{memory~}\njo0{while~}\njo0{trying~}\njo0{to~}\njo0{allocate~}\njo0{\%ld~}%
  \njo0{bytes\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{lz{\ul}buffer%
  }\njo0{{\mm}$>$buffer{\ul}len);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{EMEM;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{0;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont void}%
  }\njo{12}{judy{\ul}free{\ul}tree(Pvoid{\ul}t}\njo{35}{jarray)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{Word{\ul}t}\njo{10}{Index}\njo{16}{}\njo0{=%
  }\njo{18}{0;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(!jarray)}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return};}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(IS{\ul}J1P(jarray))}\njo{22}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{judy1{\ul}node}\njo{25}{}\njo0{=%
  }\njo{27}{J1P{\ul}GET(jarray);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Retrieved~}\njo0{original~}\njo0{Judy1~}\njo0{array~}\njo0{pointer:~}\njo0{\%p~}\njo0{from~}\njo0{\%p,~}%
  \njo0{freeing~}\njo0{it.\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{judy1{\ul}node,}\njo{105}{jarray);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{J1FA(rc,}\njo{15}{judy1{\ul}node);}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont else}}\njo{8}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{}\njo0{$\ast$PValue;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Retrieving~}\njo0{first~}\njo0{entry~}\njo0{in~}\njo0{JudyL~}\njo0{array:~}\njo0{\%p.~}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{jarray);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{JLF(PValue,}\njo{18}{jarray,}\njo{26}{Index);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Retrieved~}\njo0{first~}\njo0{entry:~}\njo0{index:~}\njo0{\%lx;~}\njo0{value:~}\njo0{\%p~}%
  \njo0{{\mm}$>$~}\njo0{\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo{81}{Index,}\njo{88}{PValue,}\njo{96}{}\njo0{$\ast$PValue%
  );}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont while}(PValue}\njo{19}{}\njo0{!=%
  }\njo{22}{NULL)}\njo{28}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{At~}\njo0{entry:~}\njo0{index:~}\njo0{\%lx,~}\njo0{value:~}\njo0{\%p~}\njo0{{\mm}$>$~}%
  \njo0{\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo{71}{%
  Index,}\njo{78}{PValue,}\njo{86}{}\njo0{$\ast$PValue);}\n\ped
\init0{}\n\ped
\init{9}{}\njo{-9}{judy{\ul}free{\ul}tree((Pvoid{\ul}t)}\njo0{$\ast$%
  PValue);}\n\ped
\init{9}{}\njo{-9}{JLN(PValue,}\njo0{jarray,}\njo{28}{Index);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{{\keywordfont int}}\njo{13}{rc;}\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Freeing~}\njo0{JudyL~}\njo0{array:~}\njo0{\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{jarray);}\n\ped
\init{9}{}\njo{-9}{JLFA(rc,}\njo0{jarray);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont void}}\njo{5}{cleanup{\ul}lz{\ul}buffer%
  ({\keywordfont struct}}\njo{30}{lz{\ul}buffer}\njo0{$\ast$%
  }\njo{41}{lz{\ul}buffer)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(lz{\ul}buffer}\njo0{{\mm}%
  $>$buffer)}\njo{25}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{free(lz{\ul}buffer}\njo0{{\mm}$>$buffer);}\n\ped
\init{6}{}\njo{-6}{lz{\ul}buffer}\njo0{{\mm}$>$buffer}\njo{24}{%
  }\njo0{=}\njo{26}{NULL;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(lz{\ul}buffer}\njo0{{\mm}%
  $>$jarray)}\n\ped
\init{6}{}\njo{-6}{judy{\ul}free{\ul}tree(lz{\ul}buffer}\njo0{{\mm}%
  $>$jarray);}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{Pvoid{\ul}t}\njo{15}{%
  create{\ul}judy{\ul}tree({\keywordfont const}}\njo{38}{{\keywordfont struct}%
  }\njo{45}{lz{\ul}buffer}\njo0{$\ast$}\njo{56}{lz{\ul}buff,}\njo0{{\keywordfont const}%
  }\njo{70}{size{\ul}t}\njo{77}{offset,}\njo{85}{{\keywordfont const}%
  }\njo{91}{ssize{\ul}t}\njo{99}{length,}\njo0{{\keywordfont const}}\njo{112}{%
  size{\ul}t}\njo{119}{position)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{Pvoid{\ul}t}\jmpo{12}{PJLArray}\njo{21}{}\njo0{=%
  }\njo{23}{(Pvoid{\ul}t)}\njo{33}{NULL;}\n\ped
\init{3}{}\njo{-3}{Pvoid{\ul}t}\njo0{$\ast$}\njo{12}{{\keywordfont const}%
  }\njo{18}{first{\ul}node}\njo{29}{}\njo0{=}\njo{31}{\&PJLArray%
  ;}\n\ped
\init{3}{}\njo{-3}{Pvoid{\ul}t}\njo0{$\ast$}\njo{12}{node}\njo{17}{%
  }\njo0{=}\njo{19}{first{\ul}node;}\n\ped
\init{3}{}\njo{-3}{ssize{\ul}t}\njo{11}{i;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo0{=0;}\njo{12}{i}\njo{14}{%
  $<$}\njo{16}{length}\njo0{{\mm}4}\njo{25}{;}\njo{27}{i}\njo{29}{%
  }\njo0{+=}\njo{32}{4)}\njo{35}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo0{$\ast$}\njo{15}{next{\ul}node%
  ;}\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{uint32{\ul}t}\njo{21}{%
  val}\njo{25}{}\njo0{=}\njo{27}{CHAR4{\ul}TO{\ul}UINT32(lz{\ul}buff%
  }\njo0{{\mm}$>$buffer,}\njo{60}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff%
  ,}\njo{87}{offset}\njo0{+i)}\njo{97}{);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{create{\ul}judy{\ul}tree:~}\njo0{Inserting~}\njo0{\%x~}\njo0{into~}\njo0{JudyL~}\njo0{array:~}\njo0{\%p~}%
  \njo0{{\mm}$>$~}\njo0{\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{val,}\njo{92}{node,}\njo{98}{}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{JLI(next{\ul}node,}\njo{21}{}\njo0{$\ast$node%
  ,}\njo{28}{val}\njo{32}{);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{create{\ul}judy{\ul}tree:~}\njo0{Inserted~}\njo0{into~}\njo0{\%p{\mm}$>$\%p,~}\njo0{value:~}%
  \njo0{\%p~}\njo0{{\mm}$>$~}\njo0{\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo{86}{node,}\njo{92}{}\njo0{$\ast$node,}\njo{99}{next{\ul}node%
  ,}\njo{110}{}\njo0{$\ast$next{\ul}node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}}\njo{9}{(next{\ul}node}\njo{20}{%
  }\njo0{==}\njo{23}{PJERR)}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{PJERR;}\n\ped
\init{11}{}\njo{-11}{node}\njo{16}{}\njo0{=}\njo{18}{(Pvoid{\ul}t%
  }\njo0{$\ast$)}\njo{29}{next{\ul}node;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{create{\ul}judy{\ul}tree:~}\njo0{Inserting~}\njo0{into~}\njo0{judy1~}\njo0{array~}\njo0{\%p{\mm}$>$\%p,~}%
  \njo0{value:\%lx\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{node%
  ,}\njo0{$\ast$node,}\njo0{position);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{J1S(rc,}\njo{14}{}\njo0{$\ast$node,}\njo{21}{%
  position}\njo{30}{);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{create{\ul}judy{\ul}tree:~}\njo0{Inserted~}\njo0{into~}\njo0{\%p{\mm}$>$\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{node,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(rc}\njo{12}{}\njo0{==}\njo{15}{%
  JERR)}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{PJERR;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$node}\njo{12}{}\njo0{=%
  }\njo{14}{J1P{\ul}PUT(}\njo0{$\ast$node);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(i}\njo0{==0)}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{}\njo0{$\ast$%
  node;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{}\njo0{$\ast$%
  first{\ul}node;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont int}}\njo{11}{%
  judy{\ul}remove{\ul}bytearray({\keywordfont const}}\njo{39}{{\keywordfont struct}%
  }\njo{46}{lz{\ul}buffer}\njo0{$\ast$}\njo{57}{lz{\ul}buff,}\njo0{{\keywordfont const}%
  }\njo{71}{size{\ul}t}\njo{78}{offset,}\njo0{{\keywordfont const}}\njo{91}{%
  size{\ul}t}\njo{98}{length,}\njo0{Pvoid{\ul}t}\njo0{$\ast$}\njo{114}{%
  node,}\njo0{size{\ul}t}\njo{126}{position)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{memcpy(\&lz{\ul}buff}\njo0{{\mm}$>$buffer{[}lz{\ul}buff%
  }\njo0{{\mm}$>$buffer{\ul}len{]},}\njo0{\&lz{\ul}buff}\njo0{{\mm}%
  $>$buffer{[}0{]},}\njo0{4);}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(}\njo{7}{length$>$0}\njo{16}{}\njo0{\&\&%
  }\njo{19}{!IS{\ul}J1P(}\njo0{$\ast$node)}\njo{34}{)}\njo{36}{%
  }\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo0{$\ast$}\njo{15}{next;}\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{uint32{\ul}t}\njo{21}{%
  val}\njo{25}{}\njo0{=}\njo{27}{CHAR4{\ul}TO{\ul}UINT32(lz{\ul}buff%
  }\njo0{{\mm}$>$buffer,}\njo{60}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff%
  ,}\njo{87}{offset)}\njo{95}{);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}remove{\ul}bytearray:~}\njo0{Querying~}\njo0{\%x,~}\njo0{in~}\njo0{JudyL~}\njo0{array~}\njo0{\%p{\mm}$>$\%p.~~}%
  \njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{val,}\njo0{node%
  ,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{JLG(next,}\njo0{$\ast$node,}\njo{22}{val);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Query~}\njo0{result:~}\njo0{\%p{\mm}$>$\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo{51}{next,}\njo{57}{next}\njo0{==NULL}\njo{68}{?}\njo{70}{%
  NULL}\njo{75}{:}\njo{77}{}\njo0{$\ast$next);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(next}\njo{14}{}\njo0{==}\njo{17}{%
  NULL)}\njo{23}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}remove{\ul}bytearray:~}\njo0{not~}\njo0{found:\%x!\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{val);}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{}\njo0{{\mm}%
  1;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{rc}\njo{9}{}\njo0{=}\njo{11}{judy{\ul}remove{\ul}bytearray%
  (lz{\ul}buff,}\njo{42}{offset}\njo{49}{}\njo0{+}\njo{51}{4,}\njo{54}{%
  length}\njo0{{\mm}4,}\njo{64}{next,}\njo{70}{position);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(!}\njo0{$\ast$next)}\njo{17}{%
  }\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{JLD(rc,}\njo{17}{}\njo0{$\ast$node,}\njo0{val%
  );}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{rc;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\njo{5}{{\keywordfont else}}\njo{10}{{\keywordfont if}%
  (}\njo{14}{IS{\ul}J1P(}\njo0{$\ast$node))}\njo{29}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{judy1{\ul}node}\jmpo{26}{}\njo0{=%
  }\njo{28}{J1P{\ul}GET(}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Retrieved~}\njo0{Judy1~}\njo0{pointer~}\njo0{\%p~}\njo0{from~}\njo0{\%p{\mm}$>$\%p.Removing~}%
  \njo0{value:~}\njo0{\%lx\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{judy1{\ul}node,}\njo0{node,}\njo0{$\ast$node,}\njo{111}{%
  position);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{J1U(rc,}\njo0{judy1{\ul}node,}\njo{25}{position}\njo{34}{%
  );}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(!rc)}\njo{14}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}remove{\ul}bytearay:~}\njo0{not~}\njo0{Found~}\njo0{pos:\%ld!\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{position);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Storing~}\njo0{Judy1~}\njo0{array~}\njo0{into~}\njo0{\%p{\mm}$>$\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{node,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(judy1{\ul}node)}\njo{21}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$node}\njo{15}{}\njo0{=%
  }\njo{17}{J1P{\ul}PUT(judy1{\ul}node);}\n\ped
\init{9}{}\njo{-9}{{\keywordfont if}(rc}\njo{15}{}\njo0{==}\njo{18}{%
  JERR)}\n\ped
\init{12}{}\njo{-12}{{\keywordfont return}}\njo{19}{JERR;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\njo{8}{{\keywordfont else}}\njo{13}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$node}\njo{15}{}\njo0{=%
  }\njo{17}{NULL;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{0;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont int}}\njo{4}{lz{\ul}remove({\keywordfont struct}%
  }\njo{21}{lz{\ul}buffer}\njo0{$\ast$}\njo{32}{lz{\ul}buff,}\njo0{{\keywordfont const}%
  }\njo{46}{size{\ul}t}\njo{53}{offset)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{judy{\ul}remove{\ul}bytearray%
  (lz{\ul}buff,}\njo0{offset,}\njo0{lz{\ul}buff}\njo0{{\mm}$>$buffer{\ul}len%
  }\njo0{/2,}\njo0{\&lz{\ul}buff}\njo0{{\mm}$>$jarray,}\njo0{WRAP{\ul}BUFFER{\ul}INDEX%
  (lz{\ul}buff,}\njo{113}{offset));}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~length}\cmt{0}{1}\njo{10}{must}\njo{15}{%
  be}\njo{18}{multiple}\njo{27}{of}\njo{30}{4}\njo{32}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont int}}\njo{11}{%
  judy{\ul}insert{\ul}bytearray({\keywordfont const}}\njo{39}{{\keywordfont struct}%
  }\njo{46}{lz{\ul}buffer}\njo0{$\ast$}\njo{57}{lz{\ul}buff,}\njo0{{\keywordfont const}%
  }\njo{71}{size{\ul}t}\njo{78}{offset,}\njo{86}{{\keywordfont const}%
  }\njo{92}{size{\ul}t}\njo{99}{length,}\njo0{Pvoid{\ul}t}\njo0{$\ast$%
  }\njo{115}{node,}\njo0{size{\ul}t}\njo{127}{position)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{i;}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{memcpy(\&lz{\ul}buff}\njo0{{\mm}$>$buffer{[}lz{\ul}buff%
  }\njo0{{\mm}$>$buffer{\ul}len{]},}\njo0{\&lz{\ul}buff}\njo0{{\mm}%
  $>$buffer{[}0{]},}\njo0{4);}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo0{=0;}\njo0{i}\njo{13}{%
  $<$}\njo{15}{length}\njo{22}{}\njo0{\&\&}\njo{25}{!IS{\ul}J1P%
  (}\njo0{$\ast$node);}\njo{41}{i}\njo{43}{}\njo0{+=}\njo{46}{%
  4)}\njo{49}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo0{$\ast$}\njo{15}{next;}\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{uint32{\ul}t}\njo{21}{%
  val}\njo{25}{}\njo0{=}\njo{27}{CHAR4{\ul}TO{\ul}UINT32(lz{\ul}buff%
  }\njo0{{\mm}$>$buffer,}\njo{60}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff%
  ,}\njo{87}{offset}\njo{94}{}\njo0{+}\njo{96}{i)}\njo{99}{);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}insert{\ul}bytearray:~}\njo0{Querying~}\njo0{\%x,~}\njo0{in~}\njo0{JudyL~}\njo0{array~}\njo0{\%p{\mm}$>$\%p.~~}%
  \njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{val,}\njo0{node%
  ,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{JLG(next,}\njo0{$\ast$node,}\njo{22}{val);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Query~}\njo0{result:~}\njo0{\%p{\mm}$>$\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo{51}{next,}\njo{57}{next}\njo0{==NULL}\njo{68}{?}\njo{70}{%
  NULL}\njo{75}{:}\njo{77}{}\njo0{$\ast$next);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(next}\njo{14}{}\njo0{==}\njo{17}{%
  NULL)}\njo{23}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}insert{\ul}bytearray:~}\njo0{Inserting~}\njo0{\%x,~}\njo0{into~}\njo0{\%p{\mm}$>$\%p.\bs{1}n}%
  \njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{val,}\njo0{node%
  ,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{9}{}\njo{-9}{JLI(next,}\njo{19}{}\njo0{$\ast$node,}\njo0{val%
  );}\n\ped
\init0{}\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}insert{\ul}bytearray:~}\njo0{Inserted~}\njo0{into~}\njo0{\%p{\mm}$>$\%p,~}\njo0{value:~}%
  \njo0{\%p{\mm}$>$\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{node,}\njo0{$\ast$node,}\njo0{next,}\njo0{$\ast$%
  next);}\n\ped
\init0{}\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$next}\njo{15}{}\njo0{=%
  }\njo{17}{create{\ul}judy{\ul}tree(lz{\ul}buff,}\njo{43}{offset}\njo0{+%
  i}\njo0{+4,}\njo{55}{length}\njo0{{\mm}i}\njo0{{\mm}%
  4,}\njo{67}{position);}\n\ped
\init0{}\n\ped
\init{9}{}\njo{-9}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{judy{\ul}insert{\ul}bytearray:~}\njo0{Stored~}\njo0{into~}\njo0{:\%p{\mm}$>$\%p;value:~}\njo0{\%p{\mm}$>$\%p\bs{1}n}%
  \njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{node,}\njo0{$\ast$%
  node,}\njo0{next,}\njo0{$\ast$next);}\n\ped
\init0{}\n\ped
\init{9}{}\njo{-9}{{\keywordfont if}(}\njo0{$\ast$next}\njo{18}{%
  }\njo0{==}\njo{21}{PJERR)}\n\ped
\init{12}{}\njo{-12}{{\keywordfont return}}\njo{19}{JERR;}\n\ped
\init{9}{}\njo{-9}{{\keywordfont else}}\n\ped
\init{12}{}\njo{-12}{{\keywordfont return}}\njo{19}{0;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{node}\njo{11}{}\njo0{=}\njo{13}{next;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(IS{\ul}J1P(}\njo0{$\ast$%
  node))}\njo{21}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{judy1{\ul}node}\jmpo{26}{}\njo0{=%
  }\njo{28}{J1P{\ul}GET(}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Retrieved~}\njo0{Judy1~}\njo0{pointer~}\njo0{\%p~}\njo0{from~}\njo0{\%p{\mm}$>$\%p.~}%
  \njo0{Setting~}\njo0{value:~}\njo0{\%lx\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{judy1{\ul}node,}\njo0{node,}\njo0{$\ast$node,}\njo{111}{%
  position);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{J1S(rc,}\njo0{judy1{\ul}node,}\njo{25}{position}\njo{34}{%
  );}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Storing~}\njo0{Judy1~}\njo0{array~}\njo0{into~}\njo0{\%p{\mm}$>$\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{node,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$node}\njo{12}{}\njo0{=%
  }\njo{14}{J1P{\ul}PUT(judy1{\ul}node);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(rc}\njo{12}{}\njo0{==}\njo{15}{%
  JERR)}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{JERR;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{0;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont int}}\njo{4}{lzbuff{\ul}insert({\keywordfont struct}%
  }\njo{25}{lz{\ul}buffer}\njo0{$\ast$}\njo{36}{lz{\ul}buff,}\njo{45}{%
  {\keywordfont const}}\njo{51}{{\keywordfont char}}\njo{56}{c)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{{\keywordfont int}%
  }\njo{13}{rc}\njo{16}{}\njo0{=}\njo{18}{judy{\ul}insert{\ul}bytearray%
  (lz{\ul}buff,}\njo{49}{lz{\ul}buff}\njo0{{\mm}$>$offset,}\njo{66}{%
  lz{\ul}buff}\njo0{{\mm}$>$buffer{\ul}len}\njo0{/2,}\njo{89}{%
  \&lz{\ul}buff}\njo0{{\mm}$>$jarray,}\njo{107}{lz{\ul}buff}\njo0{{\mm}%
  $>$offset);}\n\ped
\init{3}{}\njo{-3}{lz{\ul}buff}\njo0{{\mm}$>$offset}\njo{19}{}\njo0{=%
  }\njo{21}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{48}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{64}{}\njo0{+}\njo{66}{1}\njo{68}{%
  );}\n\ped
\init{3}{}\njo{-3}{}\cmtinit\njo0{/$\ast$lz{\ul}buff{\mm}$>$buffer{[}}\cmt{3}{0}\njo{22}{lz{\ul}buff{\mm}$>$offset}\njo{38}{%
  {]}}\njo{40}{=}\njo{42}{c;}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{rc;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont int}}\njo{11}{%
  get{\ul}longest{\ul}match({\keywordfont const}}\njo{35}{{\keywordfont struct}%
  }\njo{42}{lz{\ul}buffer}\njo{52}{}\njo0{$\ast$}\njo{54}{lz{\ul}buff%
  ,}\njo{63}{{\keywordfont const}}\njo{69}{uint32{\ul}t}\njo{78}{prev%
  ,}\njo0{{\keywordfont const}}\njo{89}{uint32{\ul}t}\njo{98}{next,}\njo0{size{\ul}t%
  }\njo{110}{pos,}\njo0{ssize{\ul}t}\njo0{$\ast$}\njo{123}{distance%
  ,}\njo{133}{ssize{\ul}t}\njo0{$\ast$}\njo{142}{length)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{i;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{size{\ul}t}\njo{16}{%
  buffer{\ul}half{\ul}len}\njo{32}{}\njo0{=}\njo{34}{lz{\ul}buff%
  }\njo0{{\mm}$>$buffer{\ul}len}\njo0{/2;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{ssize{\ul}t}\njo{17}{%
  data{\ul}search{\ul}idx}\njo{33}{}\njo0{=}\njo{35}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{51}{}\njo0{{\mm}}\njo{53}{%
  buffer{\ul}half{\ul}len}\njo0{/2}\njo{71}{}\njo0{{\mm}%
  }\njo{73}{1;}\n\ped
\init{3}{}\njo{-3}{ssize{\ul}t}\njo{11}{data{\ul}buff{\ul}idx}\jmpo{27}{%
  }\njo0{=}\njo{29}{prev;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{match{\ul}len}\njo{20}{}\njo0{=%
  }\njo{22}{pos;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo{9}{}\njo0{=}\njo{11}{%
  pos;}\njo{16}{i}\njo{18}{$<$}\njo{20}{buffer{\ul}half{\ul}len;}\njo{37}{%
  i++)}\njo{42}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(lz{\ul}buff}\njo0{{\mm}$>$buffer%
  {[}WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{52}{data{\ul}search{\ul}idx%
  }\njo{68}{}\njo0{+}\njo{70}{i){]}}\njo{74}{}\njo0{!=}\njo{77}{%
  lz{\ul}buff}\njo0{{\mm}$>$buffer{[}WRAP{\ul}BUFFER{\ul}INDEX%
  (lz{\ul}buff,}\njo{120}{data{\ul}buff{\ul}idx}\njo{134}{}\njo0{+%
  }\njo{136}{i){]})}\njo{141}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{match{\ul}len}\njo{19}{}\njo0{=}\njo{21}{i}\njo{23}{%
  }\njo0{{\mm}}\njo{25}{1;}\n\ped
\init{9}{}\njo{-9}{{\keywordfont break};}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(i}\njo{8}{}\njo0{==}\njo{11}{%
  buffer{\ul}half{\ul}len)}\njo{28}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{}\cmtinit\njo0{/$\ast$\commentfont~entire}\cmt{6}{1}\njo{16}{buffer}\njo{23}{%
  matches}\njo{31}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$length}\njo{14}{}\njo0{=%
  }\njo{16}{buffer{\ul}half{\ul}len;}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$distance}\njo{16}{}\njo0{=%
  }\njo{18}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{45}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{61}{}\njo0{{\mm}}\njo{63}{%
  prev);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{0;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{data{\ul}buff{\ul}idx}\njo{17}{}\njo0{=}\njo{19}{%
  next;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo{9}{}\njo0{=}\njo{11}{%
  pos;}\njo{16}{i}\njo{18}{$<$}\njo{20}{buffer{\ul}half{\ul}len;}\njo{37}{%
  i++)}\njo{42}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(lz{\ul}buff}\njo0{{\mm}$>$buffer%
  {[}WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{52}{data{\ul}search{\ul}idx%
  }\njo{68}{}\njo0{+}\njo{70}{i){]}}\njo{74}{}\njo0{!=}\njo{77}{%
  lz{\ul}buff}\njo0{{\mm}$>$buffer{[}WRAP{\ul}BUFFER{\ul}INDEX%
  (lz{\ul}buff,}\njo{120}{data{\ul}buff{\ul}idx}\njo{134}{}\njo0{+%
  }\njo{136}{i){]})}\njo{141}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{{\keywordfont if}(i}\njo{14}{}\njo0{{\mm}}\njo{16}{%
  1}\njo{18}{$<$}\njo{20}{match{\ul}len)}\njo{31}{}\njo0{\brl{}%
  }\n\ped
\init{12}{}\njo{-12}{}\cmtinit\njo0{/$\ast$\commentfont~data{\ul}buff{\ul}idx}\cmt{12}{1}\njo{29}{%
  =}\njo{31}{prev}\njo{36}{has}\njo{40}{a}\njo{42}{longer}\njo{49}{match}\njo{55}{}\ccmtend\basefont\njo0{\mast{1}/}%
  \n\ped
\init{12}{}\njo{-12}{}\njo0{$\ast$distance}\njo{22}{}\njo0{=%
  }\njo{24}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{51}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{67}{}\njo0{{\mm}}\njo{69}{%
  prev);}\n\ped
\init{9}{}\njo{-9}{\brr{}}\n\ped
\init{9}{}\njo{-9}{{\keywordfont else}}\njo{14}{}\njo0{\brl{}%
  }\n\ped
\init{12}{}\njo{-12}{match{\ul}len}\njo{22}{}\njo0{=}\njo{24}{i}\njo0{{\mm}%
  1;}\n\ped
\init{12}{}\njo{-12}{}\njo0{$\ast$distance}\njo{22}{}\njo0{=%
  }\njo{24}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{51}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{67}{}\njo0{{\mm}}\njo{69}{%
  next);}\n\ped
\init{9}{}\njo{-9}{\brr{}}\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$length}\njo{17}{}\njo0{=%
  }\njo{19}{match{\ul}len;}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{0;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{}\cmtinit\njo0{/$\ast$\commentfont~entire}\cmt{3}{1}\njo{13}{buffer}\njo{20}{%
  matches}\njo{28}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{3}{}\njo{-3}{}\njo0{$\ast$length}\njo{11}{}\njo0{=%
  }\njo{13}{buffer{\ul}half{\ul}len;}\n\ped
\init{3}{}\njo{-3}{}\njo0{$\ast$distance}\njo{13}{}\njo0{=%
  }\njo{15}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{42}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{58}{}\njo0{{\mm}}\njo{60}{%
  prev);}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{0;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~return}\cmt{0}{1}\njo{10}{number}\njo{17}{%
  of}\njo{20}{bytes}\njo{26}{that}\njo{31}{match,}\n
\initc{0}{5}{1}{}\njo0{we}\njo{6}{always}\njo{13}{assume}\njo{20}{big}\njo{24}{%
  endian,}\njo{32}{since}\n
\initc{0}{5}{1}{}\njo0{0x30313233,}\njo{15}{comes}\njo{21}{from}\njo{26}{the}\njo{30}{%
  string}\njo{37}{{\tt "}0123{\tt "}}\njo{44}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{inline}\njo{14}{uint8{\ul}t%
  }\njo{22}{compare{\ul}bytes({\keywordfont const}}\njo{42}{uint32{\ul}t%
  }\njo{51}{a,}\njo0{{\keywordfont const}}\njo{59}{uint32{\ul}t}\njo{68}{%
  b)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{uint32{\ul}t}\njo{18}{%
  c}\njo{20}{}\njo0{=}\njo{22}{a}\njo{24}{$\hat{~}$}\njo{26}{b;}\cmtinit\njo0{/$\ast$will}\cmt{28}{0}\njo{35}{%
  be}\njo{38}{0}\njo{40}{where}\njo{46}{there}\njo{52}{is}\njo{55}{a}\njo{57}{match}\ccmtend\basefont\njo0{\mast{1}/}%
  \n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(c\&0xff000000)}\njo{20}{}\cmtinit\njo0{/$\ast$\commentfont%
  ~if}\cmt{20}{1}\njo{26}{there}\njo{32}{are}\njo{36}{any}\njo{40}{1{'}s}\njo{44}{there,}\njo{51}{we}\njo{54}{%
  got}\njo{58}{a}\njo{60}{mismatch}\njo{69}{in}\njo{72}{the}\njo{76}{very}\njo{81}{first}\njo{87}{%
  byte}\njo{92}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{0;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(c\&0x00ff0000)}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{1;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(c\&0x0000ff00)}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{2;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(c\&0x000000ff)}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{3;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{4;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{inline}\njo{14}{{\keywordfont const}%
  }\njo{20}{Pvoid{\ul}t}\njo0{$\ast$}\njo{29}{get{\ul}best{\ul}match%
  ({\keywordfont const}}\njo{50}{uint32{\ul}t}\njo{59}{orig{\ul}val%
  ,}\njo{69}{{\keywordfont const}}\njo{75}{Word{\ul}t}\njo{82}{prev{\ul}val%
  ,}\njo{92}{{\keywordfont const}}\njo{98}{Word{\ul}t}\njo{105}{next{\ul}val%
  ,}\njo{115}{{\keywordfont const}}\njo{121}{Pvoid{\ul}t}\njo0{$\ast$%
  }\njo{130}{prev,}\njo{136}{{\keywordfont const}}\njo{142}{Pvoid{\ul}t%
  }\njo0{$\ast$}\njo{151}{next,}\njo0{uint8{\ul}t}\njo0{$\ast$%
  }\njo{165}{match)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{}\cmtinit\njo0{/$\ast$\commentfont~determine}\cmt{3}{1}\njo{16}{how}\njo{20}{%
  many}\njo{25}{bytes}\njo{31}{we}\njo{34}{have}\njo{39}{matched}\njo{47}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{uint8{\ul}t}\njo{17}{%
  match{\ul}next}\njo{28}{}\njo0{=}\njo{30}{compare{\ul}bytes(next{\ul}val%
  ,}\njo{54}{orig{\ul}val);}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{uint8{\ul}t}\njo{17}{%
  match{\ul}prev}\njo{28}{}\njo0{=}\njo{30}{compare{\ul}bytes(prev{\ul}val%
  ,}\njo{54}{orig{\ul}val);}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(}\njo{7}{match{\ul}prev}\njo{18}{%
  $<$}\njo{20}{match{\ul}next)}\njo{32}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$match}\njo{13}{}\njo0{=%
  }\njo{15}{match{\ul}next;}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{next;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{}\njo0{$\ast$match}\njo{10}{}\njo0{=%
  }\njo{12}{match{\ul}prev;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont return}}\njo{10}{prev;}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$\commentfont~gets}\cmt{0}{1}\njo{8}{index}\njo{14}{%
  that}\njo{19}{is}\njo{22}{closest}\njo{30}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{J1{\ul}CLOSEST(rc,}\njo{23}{J1Array,}\njo{32}{search{\ul}index%
  ,}\jmpo{47}{prev{\ul}index,}\njo{59}{next{\ul}index)}\njo{71}{\bs{1}}\n\ped
\init0{}\njo0{}\njo0{\brl{}\bs{1}}\n\ped
\init{3}{}\njo{-3}{(next{\ul}index)}\njo{16}{}\njo0{=}\njo{18}{%
  (search{\ul}index);}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{J1F((rc),}\njo{13}{(J1Array),}\njo{24}{(next{\ul}index%
  ));}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(!(rc))}\njo{13}{}\njo0{\brl{}%
  \bs{1}}\n\ped
\init{6}{}\njo{-6}{(prev{\ul}index)}\njo{19}{}\njo0{=}\njo{21}{%
  (search{\ul}index);}\njo0{\bs{1}}\n\ped
\init{6}{}\njo{-6}{J1P((rc),}\njo{16}{(J1Array),}\njo{27}{(prev{\ul}index%
  ));}\njo0{\bs{1}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}((rc))}\njo{15}{}\njo0{\brl{}%
  \bs{1}}\n\ped
\init{9}{}\njo{-9}{(next{\ul}index)}\njo{22}{}\njo0{=}\njo{24}{%
  (prev{\ul}index);}\njo0{\bs{1}}\n\ped
\init{9}{}\njo{-9}{J1N((rc),}\njo{19}{(J1Array),}\njo{30}{(next{\ul}index%
  ));}\njo0{\bs{1}}\n\ped
\init{6}{}\njo{-6}{\brr{}}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont else}}\njo{8}{}\njo0{\brl{}%
  \bs{1}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}((next{\ul}index)}\njo{22}{}\njo0{!=%
  }\njo{25}{(search{\ul}index))}\njo{41}{}\njo0{\brl{}\bs{1}}\n\ped
\init{9}{}\njo{-9}{(prev{\ul}index)}\njo{22}{}\njo0{=}\njo{24}{%
  (next{\ul}index);}\njo0{\bs{1}}\n\ped
\init{9}{}\njo{-9}{J1P((rc),}\njo{19}{(J1Array),}\njo{30}{(prev{\ul}index%
  ));}\njo0{\bs{1}}\n\ped
\init{6}{}\njo{-6}{\brr{}}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\njo0{\bs{1}}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont \#}}\pes{ \bs{1}}{3}\njo0{{\keywordfont define}%
  }\njo{8}{J1{\ul}NEIGHBOUR(rc,}\njo{25}{J1Array,}\njo{34}{search{\ul}index%
  ,}\njo{48}{neighbour{\ul}index)}\njo{65}{\bs{1}}\n\ped
\init0{}\njo0{}\njo0{\brl{}\bs{1}}\n\ped
\init{3}{}\njo{-3}{(neighbour{\ul}index)}\njo{21}{}\njo0{=}\njo{23}{%
  (search{\ul}index);}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{J1F((rc),}\njo{13}{(J1Array),}\njo{24}{(neighbour{\ul}index%
  ));}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(!(rc))}\njo{13}{}\njo0{\brl{}%
  \bs{1}}\n\ped
\init{6}{}\njo{-6}{(neighbour{\ul}index)}\njo{24}{}\njo0{=}\njo{26}{%
  (search{\ul}index);}\njo0{\bs{1}}\n\ped
\init{6}{}\njo{-6}{J1P((rc),}\njo{16}{(J1Array),}\njo{27}{(neighbour{\ul}index%
  ));}\njo0{\bs{1}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\njo0{\bs{1}}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont int}}\njo{11}{%
  get{\ul}closest({\keywordfont const}}\njo{29}{{\keywordfont struct}%
  }\njo{36}{lz{\ul}buffer}\njo0{$\ast$}\njo{47}{lz{\ul}buff,}\njo0{{\keywordfont const}%
  }\njo{61}{Pvoid{\ul}t}\njo0{$\ast$}\njo{70}{node,}\njo0{ssize{\ul}t%
  }\njo0{$\ast$}\njo{84}{distance)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{}\cmtinit\njo0{/$\ast$\commentfont~now}\cmt{3}{1}\njo{10}{walk}\njo{15}{%
  the}\njo{19}{array}\njo{25}{of}\njo{28}{JudyL}\njo{34}{arrays,}\njo{42}{till}\njo{47}{we}\njo{50}{%
  reach}\njo{56}{judy1}\njo{62}{pointers,}\njo{72}{and}\njo{76}{then}\njo{81}{select}\njo{88}{the}\n
\initc{0}{5}{1}{}%
  \njo0{position}\njo{15}{stored}\njo{22}{there}\njo{28}{that}\njo{33}{%
  is}\njo{36}{closest}\njo{44}{to}\njo{47}{current}\njo{55}{offset}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{3}{}\njo{-3}{{\keywordfont while}(node}\njo{14}{}\njo0{\&\&%
  }\njo{17}{!IS{\ul}J1P(}\njo0{$\ast$node))}\njo{33}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{}\njo0{$\ast$next;}\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{val}\njo{17}{}\njo0{=}\njo{19}{%
  0;}\n\ped
\init{6}{}\njo{-6}{JLF(next,}\njo0{$\ast$node,}\njo0{val);}\n\ped
\init{6}{}\njo{-6}{node}\njo{11}{}\njo0{=}\njo{13}{next;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(node}\njo{11}{}\njo0{==}\njo{14}{%
  NULL)}\njo{20}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Warning:~}\njo0{encountered~}\njo0{unexpected~}\njo0{empty~}\njo0{JudyL~}\njo0{array\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  );}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$distance}\njo{16}{}\njo0{=%
  }\njo{18}{0;}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{}\njo0{{\mm}%
  2;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont else}}\njo{8}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{judy1{\ul}node}\njo{25}{}\njo0{=%
  }\njo{27}{J1P{\ul}GET(}\njo0{$\ast$node);}\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{val}\njo{17}{;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{J1{\ul}NEIGHBOUR(rc,}\njo{23}{judy1{\ul}node,}\njo{35}{%
  lz{\ul}buff}\njo0{{\mm}$>$offset,}\njo{52}{val);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(!rc)}\njo{14}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Emtpy~}\njo0{judy1~}\njo0{array?\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  );}\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$distance}\njo{19}{}\njo0{=%
  }\njo{21}{0;}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{}\njo0{{\mm}%
  1;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{}\njo0{$\ast$distance}\njo{16}{}\njo0{=%
  }\njo{18}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\njo{45}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{61}{}\njo0{{\mm}}\njo{63}{%
  val);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{0;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont int}}\njo{4}{lzbuff{\ul}search{\ul}longest{\ul}match%
  ({\keywordfont const}}\njo{38}{{\keywordfont struct}}\njo{45}{%
  lz{\ul}buffer}\njo0{$\ast$}\njo{56}{lz{\ul}buff,}\njo0{{\keywordfont const}%
  }\njo{70}{size{\ul}t}\njo{77}{offset,}\njo0{{\keywordfont const}}\njo{90}{%
  size{\ul}t}\njo{97}{data{\ul}len,}\njo{107}{ssize{\ul}t}\njo0{$\ast$%
  }\njo{116}{distance,}\njo{126}{ssize{\ul}t}\njo0{$\ast$}\njo{135}{%
  length)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{i;}\n\ped
\init{3}{}\njo{-3}{}\cmtinit\njo0{/$\ast$\commentfont~start}\cmt{3}{1}\njo{12}{searching}\njo{22}{%
  from}\njo{27}{root}\njo{32}{array}\njo{38}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{3}{}\njo{-3}{{\keywordfont const}}\njo{9}{Pvoid{\ul}t}\njo0{$\ast$%
  }\njo{18}{node}\njo{23}{}\njo0{=}\njo{25}{\&lz{\ul}buff}\njo0{{\mm}%
  $>$jarray;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{memcpy(\&lz{\ul}buff}\njo0{{\mm}$>$buffer{[}lz{\ul}buff%
  }\njo0{{\mm}$>$buffer{\ul}len{]},}\njo0{\&lz{\ul}buff}\njo0{{\mm}%
  $>$buffer{[}0{]},}\njo0{4);}\n\ped
\init{3}{}\njo{-3}{}\cmtinit\njo0{/$\ast$\commentfont~when}\cmt{3}{1}\njo{11}{we}\njo{14}{%
  reach}\njo{20}{end{\mm}of{\mm}buffer}\njo{34}{during}\njo{41}{a}\njo{43}{search,}\njo{51}{we}\njo{54}{%
  would}\njo{60}{need}\njo{65}{to}\njo{68}{wrap}\njo{73}{the}\njo{77}{search,}\n
\initc{0}{5}{1}{}\njo0{but}\njo{10}{we}\njo{13}{can}\njo{17}{only}\njo{22}{%
  wrap}\njo{27}{on}\njo{30}{multiples}\njo{40}{of}\njo{43}{4,}\njo{46}{so}\njo{49}{to}\njo{52}{%
  prevent}\njo{60}{accessing}\njo{70}{uninitialized}\njo{84}{memory,}\n
\initc{0}{5}{1}{}\njo0{we}\njo{9}{copy}\njo{14}{first}\njo{20}{4}\njo{22}{%
  bytes,}\njo{29}{to}\njo{32}{end}\njo{36}{of}\njo{39}{buffer}\njo{46}{}\ccmtend\basefont\njo0{\mast{1}/}%
  \n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo0{=0;}\njo0{i}\njo{13}{%
  $<$}\njo{15}{data{\ul}len}\njo{24}{}\njo0{\&\&}\njo{27}{!IS{\ul}J1P%
  (}\njo0{$\ast$node);}\njo{43}{i}\njo0{+=4)}\njo{49}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{Pvoid{\ul}t}\njo0{$\ast$%
  }\njo{21}{next;}\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{Pvoid{\ul}t}\njo0{$\ast$%
  }\njo{21}{prev;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{uint32{\ul}t}\njo{21}{%
  orig{\ul}val}\njo{30}{}\njo0{=}\njo{32}{CHAR4{\ul}TO{\ul}UINT32%
  (lz{\ul}buff}\njo0{{\mm}$>$buffer,}\njo{65}{WRAP{\ul}BUFFER{\ul}INDEX%
  (lz{\ul}buff,}\njo{92}{offset}\njo{99}{}\njo0{+}\njo{101}{i)}\njo{104}{%
  );}\n\ped
\init{6}{}\njo{-6}{}\cmtinit\njo0{/$\ast$\commentfont~indexes}\cmt{6}{1}\njo{17}{in}\njo{20}{%
  the}\njo{24}{array}\njo{30}{are}\njo{34}{groups}\njo{41}{of}\njo{44}{4}\njo{46}{characters}\njo{57}{%
  converted}\njo{67}{into}\njo{72}{uint32}\njo{79}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{prev{\ul}val;}\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{next{\ul}val}\njo{22}{}\njo0{=%
  }\njo{24}{orig{\ul}val;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{}\cmtinit\njo0{/$\ast$\commentfont~search}\cmt{6}{1}\njo{16}{the}\njo{20}{%
  first}\njo{26}{index}\njo{32}{$>$=}\njo{35}{than}\njo{40}{the}\njo{44}{value}\njo{50}{we}\njo{53}{%
  search}\njo{60}{for,}\n
\initc{0}{5}{1}{}\njo0{or}\njo{12}{if}\njo{15}{it}\njo{18}{doesn{'}t}\njo{26}{%
  exist,}\njo{33}{then}\njo{38}{the}\njo{42}{index}\njo{48}{lower}\njo{54}{than}\njo{59}{it}\n
\initc{0}{5}{1}{}%
  \njo0{next}\njo{14}{is}\njo{17}{the}\njo{21}{value}\njo{27}{%
  contained}\njo{37}{in}\njo{40}{the}\njo{44}{JudyL}\njo{50}{array}\njo{56}{at}\njo{59}{index}\njo{65}{val}\n
\initc{0}{5}{1}{}%
  \njo0{It}\njo{12}{is}\njo{15}{really}\njo{22}{a}\njo{24}{%
  pointer}\njo{32}{to}\njo{35}{another}\njo{43}{JudyL}\njo{49}{array}\njo{55}{(if}\njo{59}{IS{\ul}J1P($\ast$next)}\njo{73}{%
  ==}\njo{76}{0)}\njo{79}{;}\n
\initc{0}{5}{1}{}\njo0{Or}\njo{12}{it}\njo{15}{is}\njo{18}{a}\njo{20}{%
  pointer}\njo{28}{to}\njo{31}{a}\njo{33}{Judy1}\njo{39}{array}\njo{45}{if}\njo{48}{IS{\ul}J1P($\ast$next)}\njo{62}{%
  ==}\njo{65}{1}\n
\initc{0}{5}{0}{}\ccmtend\basefont\njo0{/}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{JLF(}\njo{11}{next,}\njo{17}{}\njo0{$\ast$node%
  ,}\njo{24}{next{\ul}val);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(!next)}\njo{16}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{prev{\ul}val}\njo{18}{}\njo0{=}\njo{20}{orig{\ul}val%
  ;}\n\ped
\init{9}{}\njo{-9}{JLP(prev,}\njo{19}{}\njo0{$\ast$node,}\njo{26}{%
  prev{\ul}val);}\n\ped
\init{9}{}\njo{-9}{{\keywordfont if}(prev)}\njo{18}{}\njo0{\brl{}%
  }\n\ped
\init{12}{}\njo{-12}{}\cmtinit\njo0{/$\ast$\commentfont~previous}\cmt{12}{1}\njo{24}{found,}\njo{31}{%
  search}\njo{38}{for}\njo{42}{next}\njo{47}{neighbour}\njo{57}{now}\njo{61}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{12}{}\njo{-12}{next{\ul}val}\njo{21}{}\njo0{=}\njo{23}{prev{\ul}val%
  ;}\n\ped
\init{12}{}\njo{-12}{JLN(next,}\njo{22}{}\njo0{$\ast$node,}\njo{29}{%
  next{\ul}val);}\n\ped
\init{12}{}\njo{-12}{{\keywordfont if}(!next)}\njo{22}{}\njo0{\brl{}%
  }\n\ped
\init{15}{}\njo{-15}{}\cmtinit\njo0{/$\ast$\commentfont~array}\cmt{15}{1}\njo{24}{has}\njo{28}{%
  only}\njo{33}{1}\njo{35}{element}\njo{43}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{15}{}\njo{-15}{next}\njo{20}{}\njo0{=}\njo{22}{prev;}\n\ped
\init{15}{}\njo{-15}{next{\ul}val}\njo{24}{}\njo0{=}\njo{26}{prev{\ul}val%
  ;}\n\ped
\init{12}{}\njo{-12}{\brr{}}\n\ped
\init{9}{}\njo{-9}{\brr{}}\n\ped
\init{9}{}\njo{-9}{{\keywordfont else}}\njo{14}{}\njo0{\brl{}%
  }\n\ped
\init{12}{}\njo{-12}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Empty~}\njo0{JudyL~}\njo0{array?\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  );}\n\ped
\init{12}{}\njo{-12}{}\cmtinit\njo0{/$\ast$\commentfont~no}\cmt{12}{1}\njo{18}{value}\njo{24}{%
  found}\njo{30}{in}\njo{33}{JudyL}\njo{39}{array,}\njo{46}{buffer}\njo{53}{is}\njo{56}{empty}\njo{62}{%
  }\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{12}{}\njo{-12}{}\njo0{$\ast$length}\njo{20}{}\njo0{=%
  }\njo{22}{}\njo0{{\mm}1;}\n\ped
\init{12}{}\njo{-12}{}\njo0{$\ast$distance}\njo{22}{}\njo0{=%
  }\njo{24}{0;}\n\ped
\init{12}{}\njo{-12}{{\keywordfont return}}\njo{19}{}\njo0{{\mm}%
  1;}\n\ped
\init{9}{}\njo{-9}{\brr{}}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont else}}\njo{11}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{{\keywordfont if}(next{\ul}val}\njo{21}{}\njo0{!=%
  }\njo{24}{orig{\ul}val)}\njo{34}{}\njo0{\brl{}}\n\ped
\init{12}{}\njo{-12}{prev{\ul}val}\njo{21}{}\njo0{=}\njo{23}{next{\ul}val%
  ;}\n\ped
\init{12}{}\njo{-12}{JLP(prev,}\njo{22}{}\njo0{$\ast$node,}\njo{29}{%
  prev{\ul}val);}\n\ped
\init{12}{}\njo{-12}{{\keywordfont if}(!prev)}\njo{22}{}\njo0{\brl{}%
  }\n\ped
\init{15}{}\njo{-15}{}\cmtinit\njo0{/$\ast$\commentfont~array}\cmt{15}{1}\njo{24}{has}\njo{28}{%
  only}\njo{33}{1}\njo{35}{element}\njo{43}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{15}{}\njo{-15}{prev}\njo{20}{}\njo0{=}\njo{22}{next;}\n\ped
\init{15}{}\njo{-15}{prev{\ul}val}\njo{24}{}\njo0{=}\njo{26}{next{\ul}val%
  ;}\n\ped
\init{12}{}\njo{-12}{\brr{}}\n\ped
\init{9}{}\njo{-9}{\brr{}}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(next{\ul}val}\njo{18}{}\njo0{!=%
  }\njo{21}{orig{\ul}val)}\njo{31}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{uint8{\ul}t}\njo{17}{match;}\n\ped
\init{9}{}\njo{-9}{}\cmtinit\njo0{/$\ast$\commentfont~we}\cmt{9}{1}\njo{15}{encountered}\njo{27}{%
  a}\njo{29}{mismatch}\njo{38}{}\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{9}{}\njo{-9}{node}\njo{14}{}\njo0{=}\njo{16}{get{\ul}best{\ul}match%
  (orig{\ul}val,}\njo{41}{prev{\ul}val,}\njo{51}{next{\ul}val,}\njo{61}{%
  prev,}\njo{67}{next}\njo{72}{,}\njo0{\&match);}\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$length}\njo{17}{}\njo0{=%
  }\njo{19}{match}\njo0{+i;}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{get{\ul}closest(lz{\ul}buff%
  ,}\njo{37}{node,}\njo{43}{distance);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{node}\njo{11}{}\njo0{=}\njo{13}{next;}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(IS{\ul}J1P(}\njo0{$\ast$%
  node))}\njo{21}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{judy1{\ul}node}\njo{25}{}\njo0{=%
  }\njo{27}{J1P{\ul}GET(}\njo0{$\ast$node);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont const}}\njo{12}{uint32{\ul}t}\njo{21}{%
  orig{\ul}val}\njo{30}{}\njo0{=}\njo{32}{CHAR4{\ul}TO{\ul}UINT32%
  (lz{\ul}buff}\njo0{{\mm}$>$buffer,}\njo{65}{WRAP{\ul}BUFFER{\ul}INDEX%
  (lz{\ul}buff,}\njo{92}{offset}\njo{99}{}\njo0{+}\njo{101}{i)}\njo{104}{%
  );}\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{val}\njo{17}{}\njo0{=}\njo{19}{%
  orig{\ul}val;}\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{val{\ul}prev,}\njo{23}{val{\ul}next%
  ;}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{Retrieved~}\njo0{original~}\njo0{Judy1~}\njo0{array~}\njo0{pointer:~}\njo0{\%p~}\njo0{from~}\njo0{\%p{\mm}$>$\%p\bs{1}n}%
  \njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{judy1{\ul}node%
  ,}\njo{96}{node,}\njo0{$\ast$node);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{J1{\ul}CLOSEST(rc,}\njo{21}{judy1{\ul}node,}\njo{33}{%
  val,}\njo{38}{val{\ul}prev,}\njo{48}{val{\ul}next);}\n\ped
\init0{}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(val{\ul}next}\njo{18}{}\njo0{!=%
  }\njo{21}{orig{\ul}val)}\njo{31}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{get{\ul}longest{\ul}match%
  (lz{\ul}buff,}\njo0{val{\ul}prev,}\njo{52}{val{\ul}next,}\njo0{i,}\njo{64}{%
  distance,}\njo{74}{length);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont else}}\njo{11}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$distance}\njo{19}{}\njo0{=%
  }\njo{21}{}\njo0{{\mm}data{\ul}len;}\n\ped
\init{9}{}\njo{-9}{}\njo0{$\ast$length}\jmpo{19}{}\njo0{=%
  }\njo{21}{data{\ul}len;}\n\ped
\init{9}{}\njo{-9}{{\keywordfont return}}\njo{16}{0;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont else}}\njo{8}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{{\keywordfont return}}\njo{13}{}\njo0{{\mm}%
  1;}\n\ped
\init{6}{}\njo{-6}{}\cmtinit\njo0{/$\ast$\commentfont~assertion}\cmt{6}{1}\njo{19}{failure}\njo{27}{%
  }\ccmtend\basefont\njo0{\mast{1}/}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont static}}\njo{7}{{\keywordfont void}%
  }\njo{12}{judy{\ul}show{\ul}tree(Pvoid{\ul}t}\njo{35}{jarray,}\njo0{{\keywordfont int}%
  }\njo{46}{level)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont char}}\njo0{$\ast$}\njo{9}{%
  spaces}\njo{16}{}\njo0{=}\njo{18}{malloc(level}\njo0{+%
  1);}\n\ped
\init{3}{}\njo{-3}{Word{\ul}t}\njo{10}{Index}\njo{16}{}\njo0{=%
  }\njo{18}{0;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{memset(spaces,}\njo0{0x20,}\njo0{level);}\n\ped
\init{3}{}\njo{-3}{spaces{[}level{]}}\njo{17}{}\njo0{=}\njo{19}{%
  0;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont if}(IS{\ul}J1P(jarray))}\njo{22}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{{\keywordfont int}}\njo{10}{rc;}\n\ped
\init{6}{}\njo{-6}{Pvoid{\ul}t}\njo{14}{judy1{\ul}node}\njo{25}{}\njo0{=%
  }\njo{27}{J1P{\ul}GET(jarray);}\n\ped
\init{6}{}\njo{-6}{J1F(rc,}\njo0{judy1{\ul}node,}\njo0{Index);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont while}(rc)}\njo{16}{}\njo0{\brl{}%
  }\n\ped
\init{9}{}\njo{-9}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{:\%s\%lx\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{spaces,}\njo0{Index);}\n\ped
\init{9}{}\njo{-9}{J1N(rc,}\njo0{judy1{\ul}node,}\njo0{Index);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{{\keywordfont else}}\njo{8}{}\njo0{\brl{}%
  }\n\ped
\init{6}{}\njo{-6}{Word{\ul}t}\njo{13}{}\njo0{$\ast$}\njo{15}{%
  PValue;}\n\ped
\init{6}{}\njo{-6}{log{\ul}debug({\ul}{\ul}LINE{\ul}{\ul},}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{querying~}\njo0{first:\%p\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{jarray);}\n\ped
\init{6}{}\njo{-6}{JLF(PValue,}\njo{18}{jarray,}\njo{26}{Index);}\n\ped
\init{6}{}\njo{-6}{{\keywordfont while}(PValue}\njo{19}{}\njo0{!=%
  }\njo{22}{NULL)}\njo{28}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{\%s\%lx\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  ,}\njo0{spaces,}\njo0{Index);}\n\ped
\init{9}{}\njo{-9}{judy{\ul}show{\ul}tree((Pvoid{\ul}t)}\njo0{$\ast$%
  PValue,}\njo{42}{level}\njo0{+1);}\n\ped
\init{9}{}\njo{-9}{JLN(PValue,}\njo{21}{jarray,}\njo{29}{Index);}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{free(spaces);}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont void}}\njo{5}{show{\ul}lz{\ul}buff({\keywordfont const}%
  }\njo{24}{{\keywordfont struct}}\njo{31}{lz{\ul}buffer}\njo0{$\ast$%
  }\njo{42}{lz{\ul}buff)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{i;}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo0{=0;}\njo0{i}\njo{13}{%
  $<$}\njo{15}{lz{\ul}buff}\njo0{{\mm}$>$buffer{\ul}len;}\njo0{i%
  ++)}\njo{40}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(i}\njo{11}{}\njo0{==}\njo{14}{%
  lz{\ul}buff}\njo0{{\mm}$>$offset)}\n\ped
\init{9}{}\njo{-9}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{$\mid$\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{);}\n\ped
\init{6}{}\njo{-6}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{\%02x~}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{lz{\ul}buff%
  }\njo0{{\mm}$>$buffer{[}i{]});}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{);}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{{\keywordfont void}}\njo{5}{show{\ul}match({\keywordfont const}%
  }\njo{22}{{\keywordfont struct}}\njo{29}{lz{\ul}buffer}\njo0{$\ast$%
  }\njo{40}{lz{\ul}buff,}\njo0{ssize{\ul}t}\njo{56}{distance,}\njo0{ssize{\ul}t%
  }\njo{73}{length)}\n\ped
\init0{}\njo0{}\njo0{\brl{}}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{start}\njo{16}{}\njo0{=%
  }\njo{18}{WRAP{\ul}BUFFER{\ul}INDEX(lz{\ul}buff,}\jmpo{47}{lz{\ul}buff%
  }\njo0{{\mm}$>$offset}\njo{63}{}\njo0{{\mm}}\njo{65}{%
  distance);}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{ssize{\ul}t}\njo{11}{match}\njo{17}{}\njo0{=%
  }\njo{19}{}\njo0{{\mm}1;}\n\ped
\init{3}{}\njo{-3}{size{\ul}t}\njo{10}{i;}\n\ped
\init0{}\n\ped
\init{3}{}\njo{-3}{{\keywordfont for}(i}\njo0{=0;}\njo0{i}\njo{13}{%
  $<$}\njo{15}{lz{\ul}buff}\njo0{{\mm}$>$buffer{\ul}len;}\njo0{i%
  ++)}\njo{40}{}\njo0{\brl{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(i}\njo{11}{}\njo0{==}\njo{14}{%
  start)}\njo{21}{}\njo0{\brl{}}\n\ped
\init{9}{}\njo{-9}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{$<$\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{);}\n\ped
\init{9}{}\njo{-9}{match}\njo{15}{}\njo0{=}\njo{17}{0;}\n\ped
\init{6}{}\njo{-6}{\brr{}}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(match}\njo{15}{}\njo0{$>$=%
  }\njo{18}{0)}\n\ped
\init{9}{}\njo{-9}{match++;}\n\ped
\init{6}{}\njo{-6}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{\%02x~}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{,}\njo0{lz{\ul}buff%
  }\njo0{{\mm}$>$buffer{[}i{]});}\n\ped
\init{6}{}\njo{-6}{{\keywordfont if}(match}\njo{15}{}\njo0{==}\njo{18}{%
  length)}\n\ped
\init{9}{}\njo{-9}{printf(\qql}\stringfont\pes{\bs{1}}{0}\njo0{$>$\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{%
  );}\n\ped
\init{3}{}\njo{-3}{\brr{}}\n\ped
\init{3}{}\njo{-3}{fprintf(stderr,}\njo0{\qql}\stringfont\pes{\bs{1}}{0}%
  \njo0{\bs{1}n}\njo0{\basefont \qqr}\basefont\ped\pstart\pstarta\njo0{);}\n\ped
\init0{}\njo0{\brr{}}\n\ped
\init0{}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$}\n
\initc{0}{0}{0}{}\cmt{0}{0}\njo0{int}\njo{4}{main(int}\njo{13}{argc,char$\ast$}\njo{24}{%
  argv{[}{]})}\n
\initc{0}{0}{0}{}\njo0{\brl{}}\n
\initc{3}{0}{0}{}\njo0{const}\njo{9}{unsigned}\njo{18}{char}\njo{23}{test{[}{]}}\njo{30}{%
  =}\njo{32}{{\tt "}0123456789012345{\tt "};}\n
\initc{3}{0}{0}{}\njo0{const}\njo{9}{size{\ul}t}\njo{16}{len}\njo{20}{%
  =}\njo{22}{sizeof(test){\mm}1;}\n
\initc{3}{0}{0}{}\njo0{size{\ul}t}\njo{10}{i;}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{struct}\njo{10}{lz{\ul}buffer}\jmpo{23}{lz{\ul}buff;}\n
\initc{3}{0}{0}{}\njo0{FILE$\ast$}\njo{9}{out}\njo{13}{=}\njo{15}{%
  fopen({\tt "}/tmp/testout{\tt "},{\tt "}w{\tt "});}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{setup{\ul}lz{\ul}buffer(\&lz{\ul}buff,5);}\n
\initc{0}{0}{0}{}\n
\initc{0}{0}{0}{}\n
\initc{4}{0}{0}{}\njo0{this}\njo{9}{will}\njo{14}{be}\njo{17}{replaced}\njo{26}{%
  by}\njo{29}{a}\njo{31}{read()}\n
\initc{3}{0}{0}{}\njo0{for(i=0;i}\njo{13}{$<$}\njo{15}{len;i++)}\njo{24}{%
  \brl{}}\n
\initc{6}{0}{0}{}\njo0{lz{\ul}buff.buffer{[}lz{\ul}buff.offset}\njo{36}{+}\njo{38}{%
  i{]}}\njo{41}{=}\njo{43}{test{[}i{]};}\n
\initc{3}{0}{0}{}\njo0{\brr{}}\n
\initc{0}{0}{0}{}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{for(i=0;}\njo{12}{i}\njo{14}{$<$}\njo{16}{%
  len;)}\njo{22}{\brl{}}\n
\initc{6}{0}{0}{}\njo0{ssize{\ul}t}\njo{14}{distance;}\n
\initc{6}{0}{0}{}\njo0{ssize{\ul}t}\jmpo{15}{length;}\n
\initc{0}{0}{0}{}\n
\initc{6}{0}{0}{}\njo0{show{\ul}lz{\ul}buff(\&lz{\ul}buff);}\n
\initc{0}{0}{0}{}\n
\initc{6}{0}{0}{}\njo0{lzbuff{\ul}search{\ul}longest{\ul}match(\&lz{\ul}buff,}\njo{44}{%
  \&lz{\ul}buff.buffer{[}lz{\ul}buff.offset{]},}\njo{77}{lz{\ul}buff.buffer{\ul}len/2,}\njo{99}{\&distance,}\njo{110}{\&length);}\n
\initc{0}{0}{0}{}\n
\initc{6}{0}{0}{}\njo0{show{\ul}match(\&lz{\ul}buff,distance,length);}\n
\initc{0}{0}{0}{}\n
\initc{6}{0}{0}{}\njo0{lzbuff{\ul}insert(\&lz{\ul}buff,}\njo{30}{lz{\ul}buff.buffer{[}lz{\ul}buff.offset}\njo{60}{%
  +}\njo{62}{i{]});}\n
\initc{0}{0}{0}{}\n
\initc{6}{0}{0}{}\njo0{show{\ul}lz{\ul}buff(\&lz{\ul}buff);}\n
\initc{6}{0}{0}{}\njo0{judy{\ul}show{\ul}tree(lz{\ul}buff.jarray,0);}\n
\initc{6}{0}{0}{}\njo0{printf({\tt "}match:\%ld,\%ld\bs{1}n{\tt "},distance,length);}\n
\initc{6}{0}{0}{}\njo0{if(length}\njo{16}{$<$}\njo{18}{3)}\njo{21}{%
  \brl{}}\n
\initc{9}{0}{0}{}\njo0{length}\njo{16}{=}\njo{18}{1;}\n
\initc{6}{0}{0}{}\njo0{\brr{}}\n
\initc{6}{0}{0}{}\njo0{else}\njo{11}{\brl{}}\n
\initc{6}{0}{0}{}\njo0{\brr{}}\n
\initc{6}{0}{0}{}\njo0{i}\njo{8}{+=}\njo{11}{length;}\n
\initc{3}{0}{0}{}\njo0{\brr{}}\n
\initc{3}{0}{0}{}\njo0{cleanup{\ul}lz{\ul}buffer(\&lz{\ul}buff);}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{return}\njo{10}{0;}\n
\initc{0}{0}{0}{}\njo0{\brr{}}\n
\initc{0}{5}{0}{}\ccmtend\basefont\njo0{/}\n\ped
\init0{}\njo0{}\cmtinit\njo0{/$\ast$}\n
\initc{0}{0}{0}{}\cmt{0}{0}\njo0{int}\njo{4}{main(int}\njo{13}{argc,char$\ast$}\njo{24}{%
  argv{[}{]})}\n
\initc{0}{0}{0}{}\njo0{\brl{}}\n
\initc{3}{0}{0}{}\njo0{Pvoid{\ul}t}\njo{11}{jarray}\njo{18}{=}\njo{20}{%
  (Pvoid{\ul}t)}\njo{30}{NULL;}\n
\initc{3}{0}{0}{}\njo0{const}\njo{9}{size{\ul}t}\njo{16}{len}\njo{20}{%
  =}\njo{22}{16$\ast$2;}\n
\initc{3}{0}{0}{}\njo0{const}\njo{9}{size{\ul}t}\njo{16}{maxIdx}\njo{23}{%
  =}\njo{25}{8;}\n
\initc{3}{0}{0}{}\njo0{unsigned}\njo{12}{char$\ast$}\njo{18}{test}\njo{23}{%
  =}\njo{25}{malloc(len+1);}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{const}\njo{9}{unsigned}\njo{18}{char}\njo{23}{test2{[}{]}}\njo{31}{%
  =}\njo{33}{{\tt "}0123456789012346{\tt "};}\n
\initc{3}{0}{0}{}\njo0{const}\njo{9}{size{\ul}t}\njo{16}{len2}\njo{21}{%
  =}\njo{23}{sizeof(test){\mm}1;}\n
\initc{3}{0}{0}{}\njo0{size{\ul}t}\njo{10}{i;}\n
\initc{3}{0}{0}{}\njo0{ssize{\ul}t}\njo{11}{distance=0;}\n
\initc{3}{0}{0}{}\njo0{size{\ul}t}\njo{10}{length=0;}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{srand(2);}\n
\initc{3}{0}{0}{}\njo0{for(i=0;i$<$len/2;i++)}\njo{24}{\brl{}}\n
\initc{6}{0}{0}{}\njo0{test{[}i{]}}\njo{14}{=}\njo{16}{test2{[}i\%len2{]};}\n
\initc{3}{0}{0}{}\njo0{\brr{}}\n
\initc{3}{0}{0}{}\njo0{test{[}len{]}=0;}\n
\initc{3}{0}{0}{}\njo0{for(i=0;i$<$len/2;i++)}\njo{24}{\brl{}}\n
\initc{6}{0}{0}{}\njo0{judy{\ul}insert{\ul}bytearray(test+i,maxIdx,\&jarray,i);}\n
\initc{3}{0}{0}{}\njo0{\brr{}}\n
\initc{3}{0}{0}{}\njo0{judy{\ul}insert{\ul}bytearray(test,maxIdx,\&jarray,0);}\n
\initc{0}{0}{0}{}\n
\initc{3}{0}{0}{}\njo0{judy{\ul}show{\ul}tree(jarray,0);}\n
\initc{3}{0}{0}{}\njo0{struct}\njo{10}{lz{\ul}buffer}\njo{20}{buff;}\n
\initc{3}{0}{0}{}\njo0{lzbuff{\ul}search{\ul}longest{\ul}match(\&buff,test2+10,len2{\mm}10,\&distance,\&length);}\n
\initc{3}{0}{0}{}\njo0{printf({\tt "}\%ld:\%ld\bs{1}n{\tt "},distance,length);}\n
\initc{3}{0}{0}{}\njo0{judy{\ul}free{\ul}tree(jarray);}\n
\initc{3}{0}{0}{}\njo0{jarray}\njo{10}{=}\njo{12}{NULL;}\n
\initc{3}{0}{0}{}\njo0{return}\njo{10}{0;}\n
\initc{0}{0}{0}{}\njo0{\brr{}}\n
\initc{0}{5}{0}{}\ccmtend\basefont\njo0{/}\n\ped
\end{flushleft}
\ifmfiles\def\END{\relax}\else\def\END{\end{document}}\fi
\END
